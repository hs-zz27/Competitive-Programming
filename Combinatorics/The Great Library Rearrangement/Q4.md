# 2. The Great Library Rearrangement

### Description
A grand library contains n ancient books, each with a unique weight w[i].
The books are arranged on a single shelf from left to right.

You want to choose a continuous segment of books such that the heaviest book in the segment appears at most d positions away from the lightest book in the same segment.

Formally, for a subarray w[l…r], let:

- pos_max = index of the maximum weight in [l, r]
- pos_min = index of the minimum weight in [l, r]

The segment is valid if:
|pos_max - pos_min| ≤ d

Count the number of valid segments.

### Input
- First line: n, d (1 ≤ n ≤ 200000, 0 ≤ d ≤ n)
- Second line: n distinct integers w[i] (1 ≤ w[i] ≤ 10⁹)


### Output
One integer — the number of valid segments.

### Sample
**Input:**
```text
5 1 
4 2 9 1 6
```
**Output:**
```
3
```